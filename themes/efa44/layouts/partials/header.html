{{ $site := .Site.Params }}
<header class="header">
  <div class="container">
    <div class="header__inner">
      <a href="{{ .Site.BaseURL }}" class="header__logo">
        {{ with $site.logo }}
          <img src="{{ . }}" alt="{{ $site.logoAlt | default $.Site.Title }}" class="header__logo-img">
        {{ else }}
          {{ $.Site.Title }}
        {{ end }}
      </a>
      
      <nav class="nav" aria-label="Navigation principale">
        <button class="nav__toggle" aria-expanded="false" aria-controls="nav-list">
          <span class="sr-only">Menu</span>
          ☰
        </button>
        
        <ul class="nav__list" id="nav-list">
          {{ range .Site.Menus.main }}
            {{ if .HasChildren }}
              <li class="nav__item nav__item--dropdown">
                <button class="nav__link nav__link--parent" aria-expanded="false">
                  {{ .Name }}
                  <span class="nav__arrow">▼</span>
                </button>
                <div class="nav__submenu">
                  <ul class="nav__submenu-list">
                    {{ range .Children }}
                      <li class="nav__subitem">
                        <a href="{{ .URL }}" class="nav__sublink">
                          <span class="nav__sublink-name">{{ .Name }}</span>
                          {{ with .Params.post }}
                            <span class="nav__sublink-desc">{{ . }}</span>
                          {{ end }}
                        </a>
                      </li>
                    {{ end }}
                  </ul>
                </div>
              </li>
            {{ else }}
              <li class="nav__item">
                <a href="{{ .URL }}" class="nav__link{{ if $.IsMenuCurrent "main" . }} nav__link--active{{ end }}{{ if .Params.highlight }} nav__link--cta{{ end }}{{ if eq .Params.style "secondary" }} nav__link--cta-secondary{{ end }}"{{ if .Params.external }} target="_blank" rel="noopener"{{ end }}>
                  {{ if eq .Params.icon "heart" }}
                    <svg class="nav__icon" viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                  {{ else if eq .Params.icon "users" }}
                    <svg class="nav__icon" viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                  {{ end }}
                  {{ .Name }}
                </a>
              </li>
            {{ end }}
          {{ end }}
        </ul>
      </nav>
    </div>
  </div>
</header>

{{ if .Params.showHeader }}
<section class="hero">
  <div class="container">
    <h1 class="hero__title">{{ .Title }}</h1>
    {{ with .Params.subtitle }}
    <p class="hero__subtitle">{{ . }}</p>
    {{ end }}
  </div>
</section>
{{ end }}
